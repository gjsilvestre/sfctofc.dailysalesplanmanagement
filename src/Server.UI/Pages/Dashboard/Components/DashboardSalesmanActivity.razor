@using SFCTOFC.DailySalesPlanManagement.Domain.Enums
@using MudBlazor
@using System.Globalization

<MudCard>
    <MudCardContent>
        @if (_loading)
        {
            <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="mb-4" />
        }
        else 
        {
            <MudGrid>
                <MudItem xs="12" sm="6" md="3">
                    <MudPaper Class="pa-4 text-center" Style="background: linear-gradient(135deg, #009688 0%, #4caf50 100%); color: white;" Elevation="4">
                        <MudIcon Icon="@Icons.Material.Filled.CleanHands" Size="Size.Large" Color="Color.Inherit" Class="mb-2" />
                        <MudText Typo="Typo.h4" Color="Color.Inherit">
                            @(TotalTargetSales?.ToString("C", new CultureInfo("en-PH")) ?? "₱0.00")
                        </MudText>

                        <MudText Typo="Typo.body2" Color="Color.Inherit">Target Sales</MudText>
                    </MudPaper>
                </MudItem>

                <MudItem xs="12" sm="6" md="3">
                    <MudPaper Class="pa-4 text-center" Style="background: linear-gradient(135deg, #009688 0%, #4caf50 100%); color: white;" Elevation="4">
                        <MudIcon Icon="@Icons.Material.Filled.CleanHands" Size="Size.Large" Color="Color.Inherit" Class="mb-2" />

                        <MudText Typo="Typo.h4" Color="Color.Inherit">
                            @(TotalActualSales?.ToString("C", new CultureInfo("en-PH")) ?? "₱0.00")
                        </MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Actual Sales</MudText>
                    </MudPaper>
                </MudItem>

                <MudItem xs="12" sm="6" md="3">
                    <MudPaper Class="pa-4 text-center" Style="background: linear-gradient(135deg, #009688 0%, #4caf50 100%); color: white;" Elevation="4">
                        <MudIcon Icon="@Icons.Material.Filled.Storefront" Size="Size.Large" Color="Color.Inherit" Class="mb-2" />
                        <MudText Typo="Typo.h4" Color="Color.Inherit">
                            @* @(TotalTargetStores.ToString("N2") ?? "0.00") *@
                            0
                        </MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Target Store Visit</MudText>
                    </MudPaper>
                </MudItem>

                <MudItem xs="12" sm="6" md="3">
                    <MudPaper Class="pa-4 text-center" Style="background: linear-gradient(135deg, #009688 0%, #4caf50 100%); color: white;" Elevation="4">
                        <MudIcon Icon="@Icons.Material.Filled.Storefront" Size="Size.Large" Color="Color.Inherit" Class="mb-2" />
                        <MudText Typo="Typo.h4" Color="Color.Inherit">
                            @* @(TotalActualStores.ToString("N2") ?? "0.00") *@
                            0
                        </MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Actual Store Visit</MudText>
                    </MudPaper>
                </MudItem>
            </MudGrid>
        }
    </MudCardContent>
</MudCard>

@code {
    [Parameter] public decimal? TotalTargetSales { get; set; }
    [Parameter] public decimal? TotalActualSales { get; set; }
    [Parameter] public int TotalTargetStores { get; set; }
    [Parameter] public int TotalActualStores { get; set; }

    private bool _loading = false;
}
